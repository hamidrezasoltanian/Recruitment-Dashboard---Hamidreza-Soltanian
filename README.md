# داشبورد استخدام - نسخه فول‌استک

این پروژه یک داشبورد جامع برای مدیریت فرآیند استخدام است که با معماری مدرن فول‌استک پیاده‌سازی شده است.

- **فرانت‌اند:** React, TypeScript, Tailwind CSS
- **بک‌اند:** Node.js, Express, TypeScript, MongoDB

## ساختار پروژه

پروژه از دو بخش اصلی تشکیل شده است که در یک ریپازیتوری واحد (Monorepo) قرار دارند:

- `frontend/`: شامل تمام کدهای رابط کاربری (React App).
- `backend/`: شامل سرور API و منطق سمت سرور.

## راهنمای راه‌اندازی و اجرا

برای اجرای کامل پروژه، مراحل زیر را به ترتیب دنبال کنید.

### مرحله ۱: پیش‌نیازها

- نصب [Node.js](https://nodejs.org/) (نسخه ۱۸ یا جدیدتر).
- نصب و راه‌اندازی [MongoDB](https://www.mongodb.com/try/download/community) یا داشتن یک اکانت در [MongoDB Atlas](https://www.mongodb.com/cloud/atlas).

### مرحله ۲: نصب تمام وابستگی‌ها

از پوشه **ریشه (root)** پروژه، فقط یک دستور را اجرا کنید. این دستور به کمک قابلیت Workspaces تمام وابستگی‌های هر دو بخش فرانت‌اند و بک‌اند را نصب می‌کند.

```bash
npm install
```

### مرحله ۳: راه‌اندازی بک‌اند و پایگاه داده

1.  وارد پوشه `backend` شوید:
    ```bash
    cd backend
    ```
2.  فایل `.env.example` را به `.env` کپی کنید:
    ```bash
    cp .env.example .env
    ```
3.  فایل `.env` را باز کرده و آن را پیکربندی کنید. شما دو راه برای اتصال به دیتابیس دارید:
    -   **روش اول (پیشنهادی برای سرور محلی):** مقادیر `DB_HOST`, `DB_PORT`, و `DB_NAME` را تنظیم کنید.
    -   **روش دوم (برای سرویس‌های ابری مثل Atlas):** کل متغیر `MONGODB_URI` را با آدرس اتصال کامل خود پر کنید. اگر `MONGODB_URI` وجود داشته باشد، به بقیه متغیرهای دیتابیس اولویت دارد.

4.  مقدار `JWT_SECRET` را با یک رشته طولانی و تصادفی پر کنید.

### مرحله ۴: اجرای پروژه در حالت توسعه (Development)

از **پوشه ریشه (root)**، دستور زیر را برای اجرای همزمان سرور بک‌اند و فرانت‌اند اجرا کنید:

```bash
npm run start:fullstack
```

-   سرور بک‌اند شما روی `http://localhost:4000` اجرا می‌شود.
-   سرور توسعه فرانت‌اند روی `http://localhost:3001` اجرا می‌شود و درخواست‌های API را به بک‌اند پروکسی می‌کند.
-   **مرورگر خود را باز کرده و به آدرس `http://localhost:3001` بروید.**
-   با هر تغییر در کدهای فرانت‌اند، برنامه به صورت خودکار build می‌شود.

### مرحله ۵: استقرار نهایی (Production)

برای استقرار، **فقط کافی است سرور بک‌اند را اجرا کنید.** این سرور به صورت خودکار فایل‌های استاتیک فرانت‌اند را نیز سرو می‌کند.

1.  **بیلد کردن فرانت‌اند:** از پوشه ریشه، دستور زیر را اجرا کنید:
    ```bash
    npm run build --prefix frontend
    ```
2.  **بیلد کردن بک‌اند:** از پوشه ریشه، دستور زیر را اجرا کنید:
    ```bash
    npm run build --prefix backend
    ```
3.  **اجرای سرور اصلی:**
    فقط سرور بک‌اند را با استفاده از PM2 (یا هر ابزار دیگری) اجرا کنید. این سرور همه چیز را مدیریت می‌کند.
    ```bash
    # از پوشه ریشه اجرا کنید
    pm2 start backend/dist/index.js --name recruitment-app
    ```
    - **مهم:** از اجرای یک سرور جداگانه برای فرانت‌اند در حالت پروداکشن خودداری کنید. این کار غیرضروری و اشتباه است.
    - برنامه شما روی پورتی که در فایل `.env` بک‌اند مشخص شده (پیش‌فرض: 4000) در دسترس خواهد بود.
    - برای مشاهده لاگ‌ها از `pm2 logs recruitment-app` و برای توقف آن از `pm2 stop recruitment-app` استفاده کنید.
